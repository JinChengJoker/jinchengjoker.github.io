import{_ as s,c as a,o as n,a as p}from"./app.26ce242b.js";const F=JSON.parse('{"title":"JS \u6808\u5185\u5B58\u548C\u5806\u5185\u5B58","description":"","frontmatter":{},"headers":[],"relativePath":"blog/js/stack_and_heap/index.md"}'),l={name:"blog/js/stack_and_heap/index.md"},o=p(`<h1 id="js-\u6808\u5185\u5B58\u548C\u5806\u5185\u5B58" tabindex="-1">JS \u6808\u5185\u5B58\u548C\u5806\u5185\u5B58 <a class="header-anchor" href="#js-\u6808\u5185\u5B58\u548C\u5806\u5185\u5B58" aria-hidden="true">#</a></h1><p>\u7B80\u5355\u6765\u8BF4\uFF0CJS \u5F15\u64CE\u5C06\u5185\u5B58\u5206\u4E3A\u4EE3\u7801\u533A\u548C\u6570\u636E\u533A\uFF0C\u800C\u6570\u636E\u533A\u5206\u4E3A Stack\uFF08\u6808\u5185\u5B58\uFF09\u548C Heap\uFF08\u5806\u5185\u5B58\uFF09\u3002</p><p>\u57FA\u672C\u7C7B\u578B\u7684\u6570\u636E\u76F4\u63A5\u5B58\u5165 Stack \u91CC\uFF0C\u590D\u6742\u7C7B\u578B\u7684\u6570\u636E\u662F\u628A Heap \u5730\u5740\u5B58\u5165 Stack \u91CC\uFF0C\u8FD9\u4E2A\u5730\u5740\u5C31\u662F\u5BF9\u6570\u636E\u7684\u5F15\u7528\u3002</p><p>\u8BB0\u5F55\u4E00\u4E0B\u51E0\u4E2A\u5173\u4E8E\u5185\u5B58\u7684\u95EE\u9898\uFF1A</p><ol><li></li></ol><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> a</span></span>
<span class="line"><span style="color:#A6ACCD;">b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#676E95;">// a = ?</span></span>
<span class="line"></span></code></pre></div><p>\u4E0D\u5E9F\u8BDD\u3002\u3002\u3002a \u7684\u503C\u80AF\u5B9A\u4E3A 1\u3002</p><ol start="2"><li></li></ol><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> a</span></span>
<span class="line"><span style="color:#A6ACCD;">b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;">// a.name = ?</span></span>
<span class="line"></span></code></pre></div><p>\u56E0\u4E3A a \u7684\u503C\u4E3A\u4E00\u4E2A\u5BF9\u8C61\uFF08\u590D\u6742\u7C7B\u578B\uFF09\uFF0C\u6240\u4EE5 a \u5176\u5B9E\u662F\u628A\u8FD9\u4E2A\u5BF9\u8C61\u7684 Heap \u5730\u5740\u5B58\u5728 Stack \u91CC\u3002</p><p><code>var b = a</code> \u662F\u590D\u5236\u4E86\u8FD9\u4E2A Heap \u5730\u5740\u7ED9 b\u3002</p><p><code>b = { name: &#39;b&#39; }</code> \u662F\u628A\u4E00\u4E2A\u65B0\u5BF9\u8C61\u7684 Heap \u5730\u5740\u8D4B\u503C\u7ED9 b\uFF0C\u8986\u76D6\u6389\u539F\u6765\u7684 Heap \u5730\u5740\u3002</p><p>\u6240\u4EE5 a \u6CA1\u6709\u53D8\u5316\uFF0C<code>a.name</code> \u7684\u503C\u4E3A <code>&#39;a&#39;</code>\u3002</p><ol start="3"><li></li></ol><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> a</span></span>
<span class="line"><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#676E95;">// a.name = ?</span></span>
<span class="line"></span></code></pre></div><p>\u524D\u4E24\u53E5\u540C\u4E0A\u3002</p><p>\u6B64\u65F6 <code>b.name = &#39;b&#39;</code> \u5176\u5B9E\u662F\u628A Heap \u5730\u5740\u5F15\u7528\u7684\u5BF9\u8C61\u4E2D\u7684 name \u53D8\u6210\u4E86 <code>&#39;b&#39;</code>\u3002</p><p>\u56E0\u4E3A a \u548C b \u7684 Heap \u5730\u5740\u5F15\u7528\u7684\u662F\u540C\u4E00\u4E2A\u5185\u5B58\u533A\u57DF\uFF08\u5373\u540C\u4E00\u4E2A\u5BF9\u8C61\uFF09\uFF0C\u6240\u4EE5 <code>a.name</code> \u7684\u503C\u4E5F\u53D8\u6210\u4E86 <code>&#39;b&#39;</code>\u3002</p><ol start="4"><li></li></ol><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> a</span></span>
<span class="line"><span style="color:#A6ACCD;">b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span></span>
<span class="line"><span style="color:#676E95;">// a.name = ?</span></span>
<span class="line"></span></code></pre></div><p>\u5176\u5B9E\u4E0E\u7B2C\u4E8C\u9898\u540C\u7406\uFF0C<code>b = null</code> \u662F\u628A <code>null</code> \u8D4B\u503C\u7ED9 b\uFF0C\u8986\u76D6\u6389\u539F\u6765\u7684 Heap \u5730\u5740\u3002</p><p>\u6240\u4EE5 a \u6CA1\u6709\u53D8\u5316\uFF0C<code>a.name</code> \u7684\u503C\u8FD8\u662F\u4E3A <code>&#39;a&#39;</code>\u3002</p><ol start="5"><li></li></ol><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;">// a === a.self ?</span></span>
<span class="line"></span></code></pre></div><p>\u9996\u5148\u53D8\u91CF\u63D0\u5347\u4F1A\u58F0\u660E\u4E00\u4E2A <code>a</code>\uFF0C\u6B64\u65F6 a \u5E76\u6CA1\u6709\u88AB\u8D4B\u503C\uFF0Ca \u4E3A <code>undefined</code>\u3002</p><p>\u7136\u540E\u5728 Heap \u4E2D\u5B58 <code>{ self: a }</code> \u6570\u636E\uFF0C\u6B64\u65F6 a \u4F9D\u7136\u4E3A <code>undefined</code>\u3002</p><p>\u6700\u540E\u518D\u628A\u8BE5\u6570\u636E\u7684 Heap \u5730\u5740\u8D4B\u503C\u7ED9 a \u5B58\u5165 Stack \u91CC\u3002</p><p>\u6240\u4EE5\u5B9E\u9645\u4E0A <code>a</code> \u7684\u503C\u4E3A <code>{ self: undefined }</code>\uFF0C<code>a.self</code> \u4E3A <code>undefined</code>\u3002\u7ED3\u679C\u4E3A <code>false</code>\u3002</p><p>\u5982\u679C\u8981\u5B9E\u73B0 <code>a === a.self</code> \uFF0C\u8981\u5148\u5B58\u4E00\u4E2A\u7A7A\u5BF9\u8C61\uFF0C\u518D\u7ED9\u7A7A\u5BF9\u8C61\u6DFB\u52A0\u5C5E\u6027\u3002</p><div class="language-"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">var a = {}</span></span>
<span class="line"><span style="color:#A6ACCD;">a.self = a</span></span>
<span class="line"><span style="color:#A6ACCD;">a === a.self  // true</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ol start="6"><li></li></ol><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> a</span></span>
<span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">x </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;">// a.x = ?</span></span>
<span class="line"><span style="color:#676E95;">// b.x = ?</span></span>
<span class="line"></span></code></pre></div><p>\u9996\u5148\u5199\u51FA <code>a.x = a = { name: &#39;b&#39; }</code> \u8FD9\u6837\u7684\u4EE3\u7801\u5F88\u667A\u969C\u3002\u3002\u3002</p><p>\u7136\u540E\u8FD0\u884C\u5230\u8FD9\u4E00\u884C\u7684\u65F6\u5019\uFF0Ca \u548C b \u5728 Stack \u4E2D\u5B58\u5165\u7684 Heap \u5730\u5740\u5DF2\u7ECF\u786E\u5B9A\u4E86\uFF0C\u7B80\u5355\u7684\u5047\u8BBE\u8FD9\u4E2A\u5730\u5740\u4E3A <code>ADDR200</code>\uFF0C\u5199\u6210\u4F2A\u4EE3\u7801 <code>ADDR200.x = ADDR200 = { name: &#39;b&#39; }</code>\u3002</p><p>\u5148\u8BA1\u7B97 <code>a = { name: &#39;b&#39; }</code> \u5C31\u662F\u8986\u76D6\u4E4B\u524D\u7684 Heap \u5730\u5740\uFF0C\u518D\u7B80\u5355\u7684\u5047\u8BBE\u8FD9\u4E2A\u5730\u5740\u4E3A <code>ADDR300</code>\uFF0C\u5199\u6210\u4F2A\u4EE3\u7801 <code>ADDR200.x = ADDR300</code>\u3002</p><p>\u518D\u8BA1\u7B97 <code>a.x = a</code> \u5C31\u662F\u7ED9 Heap \u5730\u5740\u4E3A <code>ADDR200</code> \u5F15\u7528\u7684\u5BF9\u8C61\u6DFB\u52A0\u5C5E\u6027 <code>x</code>\uFF0C\u503C\u4E3A Heap \u5730\u5740 <code>ADDR300</code>\u3002</p><p>\u6240\u4EE5\u6700\u540E a \u5728 Stack \u4E2D\u5B58\u7684 Heap \u5730\u5740\u4E3A <code>ADDR300</code>\uFF0Cb \u5728 Stack \u4E2D\u5B58\u7684 Heap \u5730\u5740\u4E3A <code>ADDR200</code>\u3002</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#A6ACCD;">a  </span><span style="color:#676E95;">// { name: &#39;b&#39; }</span></span>
<span class="line"><span style="color:#A6ACCD;">b  </span><span style="color:#676E95;">// { name: &#39;a&#39;, x: { name: &#39;b&#39; } }</span></span>
<span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">x  </span><span style="color:#676E95;">// undefined</span></span>
<span class="line"><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">x  </span><span style="color:#676E95;">// { name: &#39;b&#39; }</span></span>
<span class="line"></span></code></pre></div>`,38),e=[o];function c(t,r,D,y,A,C){return n(),a("div",null,e)}const i=s(l,[["render",c]]);export{F as __pageData,i as default};
